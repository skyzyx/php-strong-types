<?php
/**
 * Copyright (c) 2014-2016 Ryan Parman.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * http://opensource.org/licenses/MIT
 */

namespace Skyzyx\Tests\StrongTypes\StringType;

use Skyzyx\StrongTypes\StringType\Email;

/**
 * @see http://codefool.tumblr.com/post/15288874550/list-of-valid-and-invalid-email-addresses
 * @see https://svn.apache.org/viewvc/commons/proper/validator/trunk/src/test/java/org/apache/commons/validator/EmailTest.java?view=markup
 */
class EmailInvalidTest extends \PHPUnit_Framework_TestCase
{
    public function listEmails()
    {
        return [
            ["   Just a string"],
            [" abigail@example.com"],
            [" joeblow@apache.org"],
            ["$@[]"],
            ["':;"],
            ["()@example.com"],
            ["(comment)"],
            ["(foo) abigail@example.com"],
            ["*()@[]"],
            ["@example.com"],
            ["\"127.0.0.1\"@[127.0.0.1]"],
            ["\":sysmail\"@  Some-Group. Some-Org"],
            ["\"\"test\\\"\"blah\"\"@example.com"],
            ["\"\\\"\"@foo.bar"],
            ["\"Abi\"gail\" <abigail@example.com>"],
            ["\"Abi\\\"gail\" <abigail@example.com>"],
            ["\"Abigail \"<abigail@example.com>"],
            ["\"George, Ted\" <Shared@Group.Arpanet>"],
            ["\"Joe & J. Harvey\" <example @Org>"],
            ["\"Joe & J. Harvey\"\\x0D\\x0A     <ddd\\@ Org>"],
            ["\"Joe &\\x0D\\x0A J. Harvey\" <ddd \\@ Org>"],
            ["\"joe!\"@apache.org"],
            ["\"joe%45\"@apache.org"],
            ["\"joe&\"@apache.org"],
            ["\"joe'\"@apache.org"],
            ["\"joe(\"@apache.org"],
            ["\"joe)\"@apache.org"],
            ["\"joe*\"@apache.org"],
            ["\"joe+\"@apache.org"],
            ["\"joe,\"@apache.org"],
            ["\"joe.\"@apache.org"],
            ["\"joe;\"@apache.org"],
            ["\"joe=\"@apache.org"],
            ["\"joe?\"@apache.org"],
            ["\"quoted ( brackets\" ( a comment )@example.com"],
            ["\"test\\\rblah\"@example.com"],
            ["\"test\rblah\"@example.com"],
            ["\"This is a phrase\"<abigail@example.com>"],
            ["Abigail (foo) (((baz)(nested) (comment)) ! ) < (one)  abigail (two) @(three)example . (bar) com (quz) >"],
            ["Abigail < (one)  abigail (two) @(three)example . (bar) com (quz) >"],
            ["Abigail <abi gail @ example.com>"],
            ["Abigail <abigail @ example . (bar) com >"],
            ["Abigail <abigail @ example.com>"],
            ["Abigail <abigail(fo(o)@example.com>"],
            ["Abigail <abigail(fo)o)@example.com>"],
            ["Abigail <abigail(fo\\(o)@example.com>"],
            ["Abigail <abigail(fo\\)o)@example.com> "],
            ["Abigail <abigail@example.com>"],
            ["abigail @example.com "],
            ["Abigail made this <  abigail   @   example  .    com    >"],
            ["Abigail(the bitch)@example.com"],
            ["Abigail<@a,@b,@c:abigail@example.com>"],
            ["Abigail<abigail@example.com>"],
            ["abigail@"],
            ["abigail@[exa[ple.com]"],
            ["abigail@[exa\\[ple.com]"],
            ["abigail@[exa\\]ple.com]"],
            ["abigail@[exa]ple.com]"],
            ["abigail@[example.com]"],
            ["abigail@[exaple].com]"],
            ["abigail@example.com "],
            ["abigail@example.com (foo)"],
            ["Alfred Neuman <Neuman@BBN-TENEXA>"],
            ["andy-noble@data-workshop.-com"],
            ["andy.noble@\u008fdata-workshop.com"],
            ["andy.noble@data-workshop.com."],
            ["andy@o'reilly.data-workshop.com"],
            ["Cruisers:  Port@Portugal, Jones@SEA;"],
            ["fred(&)barny@example.com"],
            ["fred\\ barny@example.com"],
            ["invalid�char@example.com"],
            ["joe blow@apache.org "],
            ["joe(@apache.org"],
            ["joe)@apache.org"],
            ["joe,@apache.org"],
            ["joe.@apache.org"],
            ["joe;@apache.org"],
            ["joe@localhost"],
            ["joe@localhost.localdomain"],
            ["joeblow @apache.org"],
            ["joeblow@ apache.org"],
            ["joeblow@apa che.org "],
            ["joeblow@apa,che.org"],
            ["joeblow@apache,org"],
            ["joeblow@apache.o,rg"],
            ["joeblow@apache.org "],
            ["jsmith@apache."],
            ["m@de"],
            ["mailbox.sub1.sub2@this-domain"],
            ["Muhammed.(I am  the greatest) Ali @(the)Vegas.WBA"],
            ["name:   ;"],
            ["name:;"],
            ["Neuman@BBN-TENEXA"],
            ["phrase: abigail@example.com abigail@example.com ;"],
            ["someone@[216.109.118.76]"],
            ["string"],
            ["Wilt . (the  Stilt) Chamberlain@NBA.US"],
            [' &#13;&#10; (&#13;&#10; x &#13;&#10; ) &#13;&#10; first&#13;&#10; ( &#13;&#10; x&#13;&#10; ) &#13;&#10; .&#13;&#10; ( &#13;&#10; x) &#13;&#10; last &#13;&#10; (  x &#13;&#10; ) &#13;&#10; @iana.org'],
            ['"""@iana.org'],
            ['""@iana.org'],
            ['""Austin@Powers""@example.com'],
            ['""Ima Fool""@example.com'],
            ['""Ima.Fool""@example.com'],
            ['""test""blah""@example.com'],
            ['""test\\blah""@example.com'],
            ['""test\blah""@example.com'],
            ['"(),:;<>[\]@example.com'],
            ['"[[ test ]]"@iana.org'],
            ['"\"@iana.org'],
            ['"Abc@def"@example.com'],
            ['"Abc@def"@iana.org'],
            ['"Abc\@def"@example.com'],
            ['"Abc\@def"@iana.org'],
            ['"Austin@Powers"@iana.org'],
            ['"Doug "Ace" L."@iana.org'],
            ['"Doug \"Ace\" L."@iana.org'],
            ['"email"@example.com'],
            ['"first"."last"@iana.org'],
            ['"first"."middle"."last"@iana.org'],
            ['"first".last@iana.org'],
            ['"first".middle."last"@iana.org'],
            ['"first"last"@iana.org'],
            ['"first(last)"@iana.org'],
            ['"first..last"@iana.org'],
            ['"first.middle"."last"@iana.org'],
            ['"first.middle.last"@iana.org'],
            ['"first@last"@iana.org'],
            ['"first\"last"@iana.org'],
            ['"first\\"last"@iana.org'],
            ['"first\\\"last"@iana.org'],
            ['"first\\last"@iana.org'],
            ['"first\last"@iana.org'],
            ['"foo"(yay)@(hoopla)[1.2.3.4]'],
            ['"Fred Bloggs"@example.com'],
            ['"Fred Bloggs"@iana.org'],
            ['"Fred\ Bloggs"@iana.org'],
            ['"hello my name is"@stutter.com'],
            ['"Ima Fool"@iana.org'],
            ['"Ima.Fool"@iana.org'],
            ['"Joe.\\Blow"@iana.org'],
            ['"Joe\\Blow"@example.com'],
            ['"Joe\\Blow"@iana.org'],
            ['"qu@iana.org'],
            ['"Test \"Fail\" Ing"@iana.org'],
            ['"test"blah"@iana.org'],
            ['"test"test"@iana.org'],
            ['"test&#13;&#10; blah"@iana.org'],
            ['"test&#13;blah"@iana.org'],
            ['"test.test"@iana.org'],
            ['"test@test"@iana.org'],
            ['"test\"blah"@iana.org'],
            ['"test\&#13;&#10; blah"@iana.org'],
            ['"test\&#13;blah"@iana.org'],
            ['"test\\blah"@iana.org'],
            ['"test\blah"@iana.org'],
            ['"test\test"@iana.org'],
            ['"Unicode NULL \␀"@char.com'],
            ['"Unicode NULL ␀"@char.com'],
            ['#@%^%#$@#$@#.com'],
            ['()[]\;:,><@iana.org'],
            ['(foo)cal(bar)@(baz)iamcal.com(quux)'],
            ['-- test --@iana.org'],
            ['-@..com'],
            ['-@a..com'],
            ['.@'],
            ['.@example.com'],
            ['.@iana.org'],
            ['1234   @   local(blah)  .machine .example'],
            ['12345678901234567890123456789012345678901234567890123456789012345@iana.org'],
            ['123456789012345678901234567890123456789012345678901234567890@12345678901234567890123456789012345678901234567890123456789.12345678901234567890123456789012345678901234567890123456789.12345678901234567890123456789012345678901234567890123456789.12345.iana.org'],
            ['@@bar.com'],
            ['@bar.com'],
            ['@example.com'],
            ['@iana.org'],
            ['@NotAnEmail'],
            ['[test]@iana.org'],
            ['a(a(b(c)d(e(f))g)(h(i)j)@iana.org'],
            ['a(a(b(c)d(e(f))g)h(i)j)@iana.org'],
            ['a@-b.com'],
            ['a@b'],
            ['a@b-.com'],
            ['a@bar'],
            ['a@bar.com.'],
            ['aaa.com'],
            ['aaa@.123'],
            ['aaa@.com'],
            ['aaa@[123.123.123.123]'],
            ['aaa@[123.123.123.123]a'],
            ['aaa@[123.123.123.333]'],
            ['Abc..123@example.com'],
            ['abc@def@iana.org'],
            ['abc\@def@iana.org'],
            ['Abc\@def@iana.org'],
            ['abc\@iana.org'],
            ['abc\\@def@iana.org'],
            ['abc\\@iana.org'],
            ['c@(Chris\'s host.)public.example'],
            ['cal(foo(bar)@iamcal.com'],
            ['cal(foo)bar)@iamcal.com'],
            ['cal(foo\)@iamcal.com'],
            ['cal(foo\)bar)@iamcal.com'],
            ['cal(foo\@bar)@iamcal.com'],
            ['cal(woo(yay)hoopla)@iamcal.com'],
            ['cal@iamcal(woo).(yay)com'],
            ['cdburgess+!#$%&\'*-/=?+_{}|~test@gmail.com'],
            ['customer/department=shipping@example.com'],
            ['customer/department=shipping@iana.org'],
            ['dot.@iana.org'],
            ['doug@'],
            ['Doug\ \"Ace\"\ L\.@iana.org'],
            ['Doug\ \"Ace\"\ Lovell@iana.org'],
            ['email..email@example.com'],
            ['email.@example.com'],
            ['email.example.com'],
            ['email@-example.com'],
            ['email@111.222.333.44444'],
            ['email@123.123.123.123'],
            ['email@[123.123.123.123]'],
            ['email@example'],
            ['email@example..com'],
            ['email@example.com (Joe Smith)'],
            ['email@example@example.com'],
            ['first().last@iana.org'],
            ['first(12345678901234567890123456789012345678901234567890)last@(1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890)iana.org'],
            ['first(a"bc.def).last@iana.org'],
            ['first(abc("def".ghi).mno)middle(abc("def".ghi).mno).last@(abc("def".ghi).mno)example(abc("def".ghi).mno).(abc("def".ghi).mno)com(abc("def".ghi).mno)'],
            ['first(abc.def).last@iana.org'],
            ['first(abc\(def)@iana.org'],
            ['first(middle)last@iana.org'],
            ['first(Welcome to&#13;&#10; the ("wonderful" (!)) world&#13;&#10; of email)@iana.org'],
            ['first."".last@iana.org'],
            ['first."last"@iana.org'],
            ['first."mid\dle"."last"@iana.org'],
            ['first.(")middle.last(")@iana.org'],
            ['first.(&#13;&#10; middle&#13;&#10; )last@iana.org'],
            ['first..last@iana.org'],
            ['first.last @iana.org'],
            ['first.last'],
            ['first.last.@iana.org'],
            ['first.last@'],
            ['first.last@-xample.com'],
            ['first.last@[.12.34.56.78]'],
            ['first.last@[12.34.56.789]'],
            ['first.last@[12.34.56.78]'],
            ['first.last@[::12.34.56.78]'],
            ['first.last@[IPv5:::12.34.56.78]'],
            ['first.last@[IPv6:0123:4567:89ab:cdef::11.22.33.44]'],
            ['first.last@[IPv6:0123:4567:89ab:CDEF::11.22.33.44]'],
            ['first.last@[IPv6:0123:4567:89ab:cdef::11.22.33.xx]'],
            ['first.last@[IPv6:0123:4567:89ab:cdef::]'],
            ['first.last@[IPv6:0123:4567:89ab:CDEF::]'],
            ['first.last@[IPv6:0123:4567:89ab:CDEFF::11.22.33.44]'],
            ['first.last@[IPv6:1111:2222:33333::4444:5555]'],
            ['first.last@[IPv6:1111:2222:3333:4444:5555:12.34.56.78]'],
            ['first.last@[IPv6:1111:2222:3333:4444:5555:6666:12.34.56.78]'],
            ['first.last@[IPv6:1111:2222:3333:4444:5555:6666:12.34.567.89]'],
            ['first.last@[IPv6:1111:2222:3333:4444:5555:6666:7777:12.34.56.78]'],
            ['first.last@[IPv6:1111:2222:3333:4444:5555:6666:7777:8888:9999]'],
            ['first.last@[IPv6:1111:2222:3333:4444:5555:6666:7777:8888]'],
            ['first.last@[IPv6:1111:2222:3333:4444:5555:6666:7777]'],
            ['first.last@[IPv6:1111:2222:3333:4444:5555:6666::]'],
            ['first.last@[IPv6:1111:2222:3333::4444:12.34.56.78]'],
            ['first.last@[IPv6:1111:2222:3333::4444:5555:12.34.56.78]'],
            ['first.last@[IPv6:1111:2222:3333::4444:5555:6666:7777]'],
            ['first.last@[IPv6:1111:2222:3333::4444:5555:6666]'],
            ['first.last@[IPv6:1111:2222:333x::4444:5555]'],
            ['first.last@[IPv6:1111:2222::3333::4444:5555:6666]'],
            ['first.last@[IPv6::11.22.33.44]'],
            ['first.last@[IPv6:::1111:2222:3333:4444:5555:6666]'],
            ['first.last@[IPv6:::12.34.56.78]'],
            ['first.last@[IPv6::::11.22.33.44]'],
            ['first.last@[IPv6::::]'],
            ['first.last@[IPv6::::b3:b4]'],
            ['first.last@[IPv6::::b4]'],
            ['first.last@[IPv6:::]'],
            ['first.last@[IPv6:::a2:a3:a4:b1:b2:b3:b4]'],
            ['first.last@[IPv6:::a2:a3:a4:b1:ffff:11.22.33.44]'],
            ['first.last@[IPv6:::a3:a4:b1:ffff:11.22.33.44]'],
            ['first.last@[IPv6:::b3:b4]'],
            ['first.last@[IPv6:::b4]'],
            ['first.last@[IPv6::]'],
            ['first.last@[IPv6::a2::b4]'],
            ['first.last@[IPv6::a2:a3:a4:b1:b2:b3:b4]'],
            ['first.last@[IPv6::b3:b4]'],
            ['first.last@[IPv6::b4]'],
            ['first.last@[IPv6:a1:11.22.33.44]'],
            ['first.last@[IPv6:a1::11.22.33.44.55]'],
            ['first.last@[IPv6:a1::11.22.33.44]'],
            ['first.last@[IPv6:a1::11.22.33]'],
            ['first.last@[IPv6:a1:::11.22.33.44]'],
            ['first.last@[IPv6:a1:::]'],
            ['first.last@[IPv6:a1:::b4]'],
            ['first.last@[IPv6:a1::]'],
            ['first.last@[IPv6:a1::a4:b1::b4:11.22.33.44]'],
            ['first.last@[IPv6:a1::b211.22.33.44]'],
            ['first.last@[IPv6:a1::b2:11.22.33.44]'],
            ['first.last@[IPv6:a1::b2::11.22.33.44]'],
            ['first.last@[IPv6:a1::b3:]'],
            ['first.last@[IPv6:a1::b4]'],
            ['first.last@[IPv6:a1:]'],
            ['first.last@[IPv6:a1:a2::11.22.33.44]'],
            ['first.last@[IPv6:a1:a2:::11.22.33.44]'],
            ['first.last@[IPv6:a1:a2:::]'],
            ['first.last@[IPv6:a1:a2::]'],
            ['first.last@[IPv6:a1:a2:]'],
            ['first.last@[IPv6:a1:a2:a3:a4::11.22.33.44]'],
            ['first.last@[IPv6:a1:a2:a3:a4::b1:b2:b3:b4]'],
            ['first.last@[IPv6:a1:a2:a3:a4:b1::11.22.33.44]'],
            ['first.last@[IPv6:a1:a2:a3:a4:b1:b2:b3::]'],
            ['first.last@[IPv6:a1:a2:a3:a4:b1:b2:b3:]'],
            ['first.last@com'],
            ['first.last@exampl-.com'],
            ['first.last@example.123'],
            ['first.last@sub.do,com'],
            ['first.last@x(1234567890123456789012345678901234567890123456789012345678901234567890).com'],
            ['first.last@x234567890123456789012345678901234567890123456789012345678901234.iana.org'],
            ['first\@last@iana.org'],
            ['first\\@last@iana.org'],
            ['first\last@iana.org'],
            ['foo@[\1.2.3.4]'],
            ['foobar@192.168.0.1'],
            ['Fred\ Bloggs@iana.org'],
            ['gatsby@f.sc.ot.t.f.i.tzg.era.l.d.'],
            ['hello world@iana.org'],
            ['HM2Kinsists@(that comments are allowed)this.is.ok'],
            ['Ima Fool@example.com'],
            ['Ima Fool@iana.org'],
            ['Invalid \&#10; Folding \&#10; Whitespace@iana.org'],
            ['invalid@about.museum-'],
            ['jdoe@machine(comment).  example'],
            ['Joe Smith <email@example.com>'],
            ['Joe.\\Blow@iana.org'],
            ['just"not"right@example.com'],
            ['much."more\ unusual"@example.com'],
            ['NotAnEmail'],
            ['ote"@iana.org'],
            ['pete(his account)@silly.test(his host)'],
            ['phil.h\@\@ck@haacked.com'],
            ['plainaddress'],
            ['pootietang.@example.com'],
            ['pootietang.@iana.org'],
            ['test. &#13;&#10; &#13;&#10; obs@syntax.com'],
            ['test."test"@iana.org'],
            ['Test.&#13;&#10; Folding.&#13;&#10; Whitespace@iana.org'],
            ['test.&#13;&#10;&#13;&#10; obs@syntax.com'],
            ['test..test@iana.org'],
            ['test.@iana.org'],
            ['test.iana.org'],
            ['test@.'],
            ['test@...........com'],
            ['test@.org'],
            ['test@123.123.123.123'],
            ['test@123.123.123.123]'],
            ['test@123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012.com'],
            ['test@@iana.org'],
            ['test@[123.123.123.123'],
            ['test@[123.123.123.123]'],
            ['test@example'],
            ['test@example.'],
            ['test@example.com&#10;'],
            ['test@test@iana.org'],
            ['this\ is"really"not\allowed@example.com'],
            ['two..dot@iana.org'],
            ['Unicode NULL \␀@char.com'],
            ['very."(),:;<>[]".VERY."very@\\ "very".unusual@strange.example.com'],
            ['very.unusual."@".unusual.com@example.com'],
            ['wo..oly@example.com'],
            ['wo..oly@iana.org'],
            ['x@x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456789.x23456'],
            ['{^c\@**Dog^}@cartoon.com'],
        ];
    }

    /**
     * @dataProvider listEmails
     * @expectedException UnexpectedValueException
     */
    public function testValidate($email)
    {
        $this->assertTrue(true);
        new Email($email);
    }
}
